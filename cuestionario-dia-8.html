<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta http-equiv="Content-Language" content="en" />
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<title>PNCE | ENSEÑANZA DIGITAL Y HABILIDADES SOCIOEMOCIONALES</title>
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, shrink-to-fit=no" />
		<meta name="description" content="" />
		<!-- Disable tap highlight on IE -->

		<meta name="msapplication-tap-highlight" content="no" />
		<link href="./styles.css" rel="stylesheet" />
		<link href="./custom-style.css" rel="stylesheet" />
		<script type="text/javascript" src="./js/jquery.js"></script>
	</head>

	<body>
		<div class="app-container app-theme-white body-tabs-shadow fixed-header fixed-sidebar">
			<div class="app-main pt-0">
				<div class="app-main__outer">
					<div class="app-main__inner">
						<div class="tab-content mx-auto" style="max-width: 1000px;">
							<div class="col-md-12">
								<div class="tab-pane tabs-animation fade show active" id="tab-content-1" role="tabpanel">
									<div class="main-card mb-3 card">
										<div class="card-body px-0">
											<div class="container">
												<div class="py-3 text-center">
													<img class="ml-2 mb-4" src="./asset/pnce-logo-2020.png" alt="" width="120" height="70" />
												</div>

												<div class="row justify-content-center text-center">
													<div class="col-12">
														<h5 class="mb-3">Cuestionario del curso "Introducción a la Enseñanza digital", "Habilidades socioemocionales" y "Seguridad Psicológica"</h5>
														<h6 class="mb-3">Martes 8 de diciembre de 2020</h6>

														<form id="form-pre-registro" class="needs-validation" novalidate>
															<div class="row">

																<div class="col-12">
																	<div class="divider-extra mb-3 mt-3 mx-auto"></div>
																</div>

																<div class="col-12">
																	<div class="form-group">
																		<label for="municipio">Municipio</label>
																		<select name="municipio" id="pre-municipio" class="form-control text-center">
																			<option value="Acuitzio">Acuitzio</option>
																			<option value="Álvaro Obregón">Álvaro Obregón</option>
																			<option value="Aguililla">Aguililla</option>
																			<option value="Angamacutiro">Angamacutiro</option>
																			<option value="Angangueo">Angangueo</option>
																			<option value="Apatzingán">Apatzingán</option>
																			<option value="Aporo">Aporo</option>
																			<option value="Aquila">Aquila</option>
																			<option value="Ario">Ario</option>
																			<option value="Arteaga">Arteaga</option>
																			<option value="Briseñas">Briseñas</option>
																			<option value="Buenavista">Buenavista</option>
																			<option value="Carácuaro">Carácuaro</option>
																			<option value="Charapan">Charapan</option>
																			<option value="Charo">Charo</option>
																			<option value="Chavinda">Chavinda</option>
																			<option value="Cherán">Cherán</option>
																			<option value="Chilchota">Chilchota</option>
																			<option value="Chinicuila">Chinicuila</option>
																			<option value="Chucándiro">Chucándiro</option>
																			<option value="Churintzio">Churintzio</option>
																			<option value="Churumuco">Churumuco</option>
																			<option value="Coahuayana">Coahuayana</option>
																			<option value="Coalcomán de Vázquez Pallares">Coalcomán de Vázquez Pallares</option>
																			<option value="Coeneo">Coeneo</option>
																			<option value="Cojumatlán de Régules">Cojumatlán de Régules</option>
																			<option value="Contepec">Contepec</option>
																			<option value="Copándaro">Copándaro</option>
																			<option value="Cotija">Cotija</option>
																			<option value="Cuitzeo">Cuitzeo</option>
																			<option value="Ecuandureo">Ecuandureo</option>
																			<option value="Epitacio Huerta">Epitacio Huerta</option>
																			<option value="Erongarícuaro">Erongarícuaro</option>
																			<option value="Gabriel Zamora">Gabriel Zamora</option>
																			<option value="Hidalgo">Hidalgo</option>
																			<option value="Huandacareo">Huandacareo</option>
																			<option value="Huaniqueo">Huaniqueo</option>
																			<option value="Huetamo">Huetamo</option>
																			<option value="Huiramba">Huiramba</option>
																			<option value="Indaparapeo">Indaparapeo</option>
																			<option value="Irimbo">Irimbo</option>
																			<option value="Ixtlán">Ixtlán</option>
																			<option value="Jacona">Jacona</option>
																			<option value="Jiménez">Jiménez</option>
																			<option value="Jiquilpan">Jiquilpan</option>
																			<option value="José Sixto Verduzco">José Sixto Verduzco</option>
																			<option value="Jungapeo">Jungapeo</option>
																			<option value="Juárez">Juárez</option>
																			<option value="La Huacana">La Huacana</option>
																			<option value="La Piedad">La Piedad</option>
																			<option value="Lagunillas">Lagunillas</option>
																			<option value="Los Reyes">Los Reyes</option>
																			<option value="Lázaro Cárdenas">Lázaro Cárdenas</option>
																			<option value="Madero">Madero</option>
																			<option value="Maravatío">Maravatío</option>
																			<option value="Marcos Castellanos">Marcos Castellanos</option>
																			<option value="Morelia">Morelia</option>
																			<option value="Morelia (Educación especial)">Morelia (Educación especial)</option>
																			<option value="Morelos">Morelos</option>
																			<option value="Múgica">Múgica</option>
																			<option value="Nahuatzen">Nahuatzen</option>
																			<option value="Nocupétaro">Nocupétaro</option>
																			<option value="Nuevo Parangaricutiro">Nuevo Parangaricutiro</option>
																			<option value="Nuevo Urecho">Nuevo Urecho</option>
																			<option value="Numarán">Numarán</option>
																			<option value="Ocampo">Ocampo</option>
																			<option value="Pajacuarán">Pajacuarán</option>
																			<option value="Panindícuaro">Panindícuaro</option>
																			<option value="Paracho">Paracho</option>
																			<option value="Parácuaro">Parácuaro</option>
																			<option value="Penjamillo">Penjamillo</option>
																			<option value="Peribán">Peribán</option>
																			<option value="Puruándiro">Puruándiro</option>
																			<option value="Purépero">Purépero</option>
																			<option value="Pátzcuaro">Pátzcuaro</option>
																			<option value="Queréndaro">Queréndaro</option>
																			<option value="Quiroga">Quiroga</option>
																			<option value="Sahuayo">Sahuayo</option>
																			<option value="Salvador Escalante">Salvador Escalante</option>
																			<option value="San Lucas">San Lucas</option>
																			<option value="Santa Ana Maya">Santa Ana Maya</option>
																			<option value="Senguio">Senguio</option>
																			<option value="Susupuato">Susupuato</option>
																			<option value="Tacámbaro">Tacámbaro</option>
																			<option value="Tancítaro">Tancítaro</option>
																			<option value="Tangamandapio">Tangamandapio</option>
																			<option value="Tangancícuaro">Tangancícuaro</option>
																			<option value="Tanhuato">Tanhuato</option>
																			<option value="Taretan">Taretan</option>
																			<option value="Tarímbaro">Tarímbaro</option>
																			<option value="Tepalcatepec">Tepalcatepec</option>
																			<option value="Tingambato">Tingambato</option>
																			<option value="Tingüindín">Tingüindín</option>
																			<option value="Tiquicheo de Nicolás Romero">Tiquicheo de Nicolás Romero</option>
																			<option value="Tlalpujahua">Tlalpujahua</option>
																			<option value="Tlazazalca">Tlazazalca</option>
																			<option value="Tocumbo">Tocumbo</option>
																			<option value="Tumbiscatío">Tumbiscatío</option>
																			<option value="Turicato">Turicato</option>
																			<option value="Tuxpan">Tuxpan</option>
																			<option value="Tuzantla">Tuzantla</option>
																			<option value="Tzintzuntzan">Tzintzuntzan</option>
																			<option value="Tzitzio">Tzitzio</option>
																			<option value="Uruapan">Uruapan</option>
																			<option value="Venustiano Carranza">Venustiano Carranza</option>
																			<option value="Villamar">Villamar</option>
																			<option value="Vista Hermosa">Vista Hermosa</option>
																			<option value="Yurécuaro">Yurécuaro</option>
																			<option value="Zacapu">Zacapu</option>
																			<option value="Zamora">Zamora</option>
																			<option value="Zinapécuaro">Zinapécuaro</option>
																			<option value="Zináparo">Zináparo</option>
																			<option value="Ziracuaretiro">Ziracuaretiro</option>
																			<option value="Zitácuaro">Zitácuaro</option>
																		</select>
																	</div>
																</div>

																<div class="col-12 mt-2 mb-3">
																	<label for="">
																		<b>1.</b> ¿Una de las recomendaciones para comunicarte efectivamente a través de ZOOM es cuidar la iluminación? 
																	</label>
																	<div class="custom-control-inline custom-radio pl-2">
																		<div class="form-check form-check-inline pr-1">
																			<input class="form-check-input custom-control-input" type="radio" required id="qst-1-1" name="qst-1" value="1" />
																			<label class="form-check-label custom-control-label" for="qst-1-1">Sí</label>
																		</div>
																		<div class="form-check form-check-inline pr-1">
																			<input class="form-check-input custom-control-input" type="radio" required id="qst-1-2" name="qst-1" value="0" />
																			<label class="form-check-label custom-control-label" for="qst-1-2">No</label>
																		</div>

																	</div>
																</div>

																<div class="col-12 mt-2 mb-3">
																	<label for="">
																		<b>2.</b> ¿Es posible realizar dinámicas y actividades con los alumnos a través de ZOOM?
																	</label>
																	<div class="custom-control-inline custom-radio pl-2">
																		<div class="form-check form-check-inline pr-1">
																			<input class="form-check-input custom-control-input" type="radio" required id="qst-2-1" name="qst-2" value="1" />
																			<label class="form-check-label custom-control-label" for="qst-2-1">Sí</label>
																		</div>
																		<div class="form-check form-check-inline pr-1">
																			<input class="form-check-input custom-control-input" type="radio" required id="qst-2-2" name="qst-2" value="0" />
																			<label class="form-check-label custom-control-label" for="qst-2-2">No</label>
																		</div>

																	</div>
																</div>

																<div class="col-12 mt-2 mb-3">
																	<label for="">
																		<b>3.</b> ¿Trabajar en nuestras habilidades socioemocionales nos puede ayudar para reducir el estrés? 
																	</label>
																	<div class="custom-control-inline custom-radio pl-2">
																		<div class="form-check form-check-inline pr-1">
																			<input class="form-check-input custom-control-input" type="radio" required id="qst-3-1" name="qst-3" value="1" />
																			<label class="form-check-label custom-control-label" for="qst-3-1">Sí</label>
																		</div>
																		<div class="form-check form-check-inline pr-1">
																			<input class="form-check-input custom-control-input" type="radio" required id="qst-3-2" name="qst-3" value="0" />
																			<label class="form-check-label custom-control-label" for="qst-3-2">No</label>
																		</div>

																	</div>
																</div>
																
																<div class="col-12 mt-2 mb-3">
																	<label for="">
																		<b>4.</b> ¿La seguridad psicológica consiste en un clima de equipo caracterizado por la confianza interpersonal y el respeto mutuo en el que las personas se sienten cómodas siendo ellas mismas?
																	</label>
																	<div class="custom-control-inline custom-radio pl-2">
																		<div class="form-check form-check-inline pr-1">
																			<input class="form-check-input custom-control-input" type="radio" required id="qst-4-1" name="qst-4" value="1" />
																			<label class="form-check-label custom-control-label" for="qst-4-1">Sí</label>
																		</div>
																		<div class="form-check form-check-inline pr-1">
																			<input class="form-check-input custom-control-input" type="radio" required id="qst-4-2" name="qst-4" value="0" />
																			<label class="form-check-label custom-control-label" for="qst-4-2">No</label>
																		</div>

																	</div>
																</div>

																<div class="col-12 mt-2 mb-3">
																	<label for="">
																		<b>5.</b> ¿Únicamente existen dos modalidades de violencia?
																	</label>
																	<div class="custom-control-inline custom-radio pl-2">
																		<div class="form-check form-check-inline pr-1">
																			<input class="form-check-input custom-control-input" type="radio" required id="qst-5-1" name="qst-5" value="1" />
																			<label class="form-check-label custom-control-label" for="qst-5-1">Sí</label>
																		</div>
																		<div class="form-check form-check-inline pr-1">
																			<input class="form-check-input custom-control-input" type="radio" required id="qst-5-2" name="qst-5" value="0" />
																			<label class="form-check-label custom-control-label" for="qst-5-2">No</label>
																		</div>

																	</div>
																</div>


															</div>

															<div class="row justify-content-center mt-2">
																<div class="col-12 col-md-8">
																	<input type="submit" class="mb-2 mr-2 btn-icon btn btn-primary btn-lg btn-block" value="Enviar" id="enviar" />
																</div>
															</div>

														</form>
													</div>
												</div>

												<footer class="my-3 text-muted text-center text-small">
													<!-- <p class="mb-1">© 2020 E-ADVISORS</p> -->
												</footer>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

		<style>
			label {
				font-size: 1rem;
				width: 100%;
				font-weight: bold;
			}
			
			.divider-extra{
				width: 50%;
				height: 1px;
				background-color: #ced4da;
			}

			.k-radio:checked + .k-radio-label::after {
				top: 2px !important;
				left: 2px !important;
			}

			.k-radio-label {
				margin-right: 20px;
				margin-bottom: 0px;
			}

			.custom-control-label{
				font-weight: normal !important;
			}

			@media (max-width: 575px) {
				.form-group {
					margin-bottom: 0px;
				}

				.form-group .col-sm-4,
				.form-group .col-sm-10 {
					margin-bottom: 1rem;
				}
			}

			.custom-control-inline.custom-radio.pl-2 {
				padding-left: 20px !important;
			}

			@media (max-width: 768px) {
				.custom-control-inline.custom-radio.pl-2 {
					flex-direction: column;
				}

				.custom-control-inline{
					display: flex;
					padding-left: 0px !important;
					margin-right: 0;
					flex-direction: row !important;
					flex-wrap: wrap;
					justify-content: flex-end;
				}

				.custom-control-inline.custom-radio.pl-2 {
					padding-left: 0px !important;
				}

				.form-check-inline{
					margin-right: 0px;
					padding-right: 0px !important;
					text-align: left;
					width: 40%;
				}
			}

			@media (max-width: 576px) {
				.app-main__inner{
					padding-left: 0px !important;
					padding-right: 0px !important;
				}

			}
			.custom-range::-moz-range-thumb {
				width: 2rem;
				height: 1rem;
			}
		</style>

		<script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>

		<script src="https://cdnjs.cloudflare.com/ajax/libs/uuid/8.1.0/uuidv4.min.js"></script>
		<script src="https://www.gstatic.com/firebasejs/8.1.1/firebase-app.js"></script>
		<script src="https://www.gstatic.com/firebasejs/7.23.0/firebase-database.js"></script>

		<script>
			const _fbConfig = firebaseConfig = {
				apiKey: "AIzaSyDuxAbpeIZuqs8No_wiPJQLrc6mZvXsb1M",
				authDomain: "pnce-f967b.firebaseapp.com",
				databaseURL: "https://pnce-f967b.firebaseio.com",
				projectId: "pnce-f967b",
				storageBucket: "pnce-f967b.appspot.com",
				messagingSenderId: "78250519178",
				appId: "1:78250519178:web:9300a88cb10db71487db73"
			};

			firebase.initializeApp(_fbConfig);

			$(function () {

				$('#enviar').click(async function (e) { 
					e.preventDefault();
					$('#enviar').attr('disabled', true);
					$('#enviar').val('Enviando...');
					$('#form-pre-registro').addClass('was-validated');
					let _data = {};
					let formData = $('#form-pre-registro').serializeArray();

					if(formData.length < 6){
						Swal.fire('Conteste todas las preguntas', '', 'error');
						$('#enviar').attr('disabled', false);
						return
					}

					let _ans = {
						'qst-1': 1,
						'qst-2': 1,
						'qst-3': 1,
						'qst-4': 1,
						'qst-5': 0,
					};

					let _score = 0;

					for (const d of formData) {
						_data[d.name] = d.value;

						if(d.name.includes('qst-')){
							if(_ans[d.name] == parseInt(d.value)){
								_score++;
							}
						}
					}

					_data.score = _score;
					_data.name = 'Día 8';

					console.log(`Data: `, _data);
					_data.createdAt = firebase.database.ServerValue.TIMESTAMP;

					let uuid = uuidv4();
					let dbRef = firebase.database();
					dbRef.ref(`C-PRIMER-DIA/${uuid}`).set(_data, async function(errorDB){
						if(errorDB){
							Swal.fire('Ocurrió un error', 'Vuelva a intentarlo', 'error');
							$('#enviar').val('Enviar');
							$('#enviar').attr('disabled', false);
						}else{
							let noty = await Swal.fire('Cuestionario registrado', `Sus aciertos fueron ${_score} de 5`, 'success');
							location.reload(true);
						}
					});
					return;
				});
			});
		</script>
	</body>
</html>
